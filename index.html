<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="TestVerse - Interactive visual galaxy for software testing tools and frameworks">
  <meta name="author" content="Anshita Bhasin">
  <title>TestVerse - Visual Testing Knowledge Galaxy</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fade-in {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes zoom-in-95 {
      from { transform: scale(0.95); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    @keyframes slide-in-from-bottom-2 {
      from { transform: translateY(0.5rem); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .animate-in {
      animation: fade-in 0.3s ease-out, zoom-in-95 0.3s ease-out;
    }
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Lucide Icons as inline SVG components
    const Sparkles = ({ className = "w-6 h-6" }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="M12 3v18m9-9H3"/>
        <path d="M16.5 7.5l-1 1m-7-1l1 1m6 6l1 1m-7 0l-1 1"/>
      </svg>
    );

    const Search = ({ className = "w-4 h-4" }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <circle cx="11" cy="11" r="8"/>
        <path d="m21 21-4.35-4.35"/>
      </svg>
    );

    const Info = ({ className = "w-4 h-4" }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 16v-4m0-4h.01"/>
      </svg>
    );

    const ExternalLink = ({ className = "w-4 h-4" }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
        <path d="M15 3h6v6m-11 5L21 3"/>
      </svg>
    );

    const X = ({ className = "w-6 h-6" }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="M18 6 6 18M6 6l12 12"/>
      </svg>
    );

    const ChevronUp = ({ className = "w-4 h-4" }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="m18 15-6-6-6 6"/>
      </svg>
    );

    const ChevronDown = ({ className = "w-4 h-4" }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="m6 9 6 6 6-6"/>
      </svg>
    );

    const TestVerse = () => {
      const [selectedNode, setSelectedNode] = useState(null);
      const [searchTerm, setSearchTerm] = useState('');
      const [hoveredNode, setHoveredNode] = useState(null);
      const [showLegend, setShowLegend] = useState(false);

      const nodes = [
        {
          id: 'browser-testing',
          name: 'Browser Testing',
          x: 20,
          y: 25,
          size: 70,
          color: '#00f5ff',
          category: 'Testing Types',
          description: 'Check whether web-based applications work as expected',
          moons: [
            { name: 'Selenium', url: 'https://www.selenium.dev/' },
            { name: 'Cypress', url: 'https://www.cypress.io/' },
            { name: 'Playwright', url: 'https://playwright.dev/' },
            { name: 'Robot Framework', url: 'https://robotframework.org/' },
            { name: 'WebDriverIO', url: 'https://webdriver.io/' }
          ]
        },
        {
          id: 'api-testing',
          name: 'API Testing',
          x: 45,
          y: 20,
          size: 75,
          color: '#ff6b9d',
          category: 'Testing Types',
          description: 'Verify API meets expected functionality',
          moons: [
            { name: 'Postman/Newman', url: 'https://www.postman.com/' },
            { name: 'Rest Assured', url: 'https://rest-assured.io/' },
            { name: 'Cypress', url: 'https://www.cypress.io/' },
            { name: 'Playwright', url: 'https://playwright.dev/' },
            { name: 'Ready API', url: 'https://smartbear.com/product/ready-api/overview/' },
            { name: 'WebTest Client', url: 'https://docs.spring.io/spring-framework/reference/testing/webtestclient.html' },
            { name: 'Karate', url: 'https://karatelabs.github.io/karate/' },
            { name: 'SuperTest', url: 'https://github.com/ladjs/supertest' },
            { name: 'OkHttp3', url: 'https://square.github.io/okhttp/' }
          ]
        },
        {
          id: 'mobile-testing',
          name: 'Mobile Testing',
          x: 70,
          y: 25,
          size: 70,
          color: '#17d1aa',
          category: 'Testing Types',
          description: 'Verify functionality and usability across devices and OS',
          moons: [
            { name: 'Appium', url: 'https://appium.io/' },
            { name: 'Espresso', url: 'https://developer.android.com/training/testing/espresso' },
            { name: 'Detox', url: 'https://wix.github.io/Detox/' },
            { name: 'Calabash', url: 'https://github.com/calabash/calabash-ios' },
            { name: 'Maestro', url: 'https://maestro.mobile.dev/' },
            { name: 'XCUITest', url: 'https://developer.apple.com/documentation/xctest' }
          ]
        },
        {
          id: 'performance',
          name: 'Performance',
          x: 85,
          y: 45,
          size: 65,
          color: '#ffa726',
          category: 'Testing Types',
          description: 'Verify speed and scalability under load',
          moons: [
            { name: 'JMeter', url: 'https://jmeter.apache.org/' },
            { name: 'Gatling', url: 'https://gatling.io/' },
            { name: 'K6', url: 'https://k6.io/' },
            { name: 'Neo Load', url: 'https://www.tricentis.com/products/performance-testing-neoload' },
            { name: 'Load Runner', url: 'https://www.microfocus.com/en-us/products/loadrunner-professional/overview' },
            { name: 'Loadview', url: 'https://www.loadview-testing.com/' },
            { name: 'Locust', url: 'https://locust.io/' }
          ]
        },
        {
          id: 'security',
          name: 'Security Testing',
          x: 88,
          y: 68,
          size: 60,
          color: '#e74c3c',
          category: 'Testing Types',
          description: 'Identify vulnerabilities and security risks',
          moons: [
            { name: 'Burp Suite', url: 'https://portswigger.net/burp' },
            { name: 'SQL Map', url: 'https://sqlmap.org/' },
            { name: 'Veracode', url: 'https://www.veracode.com/' },
            { name: 'NMap', url: 'https://nmap.org/' },
            { name: 'Pynt', url: 'https://www.pynt.io/' },
            { name: 'ZAP', url: 'https://www.zaproxy.org/' }
          ]
        },
        {
          id: 'cicd',
          name: 'CI/CD',
          x: 50,
          y: 50,
          size: 80,
          color: '#66bb6a',
          category: 'DevOps',
          description: 'Automate development, deployment, and testing',
          moons: [
            { name: 'Jenkins', url: 'https://www.jenkins.io/' },
            { name: 'GitHub Actions', url: 'https://github.com/features/actions' },
            { name: 'Bitrise', url: 'https://bitrise.io/' },
            { name: 'TeamCity', url: 'https://www.jetbrains.com/teamcity/' },
            { name: 'GitLab', url: 'https://about.gitlab.com/' },
            { name: 'Circle CI', url: 'https://circleci.com/' },
            { name: 'Azure DevOps Server', url: 'https://azure.microsoft.com/en-us/products/devops' },
            { name: 'Bamboo', url: 'https://www.atlassian.com/software/bamboo' },
            { name: 'BitBucket', url: 'https://bitbucket.org/' }
          ]
        },
        {
          id: 'version-control',
          name: 'Version Control',
          x: 35,
          y: 42,
          size: 60,
          color: '#9b59b6',
          category: 'DevOps',
          description: 'Manage changes to source code over time',
          moons: [
            { name: 'Git', url: 'https://git-scm.com/' },
            { name: 'Azure DevOps', url: 'https://azure.microsoft.com/en-us/products/devops' },
            { name: 'SVN', url: 'https://subversion.apache.org/' },
            { name: 'AWS Code Commit', url: 'https://aws.amazon.com/codecommit/' }
          ]
        },
        {
          id: 'bdd',
          name: 'BDD',
          x: 15,
          y: 50,
          size: 55,
          color: '#ab47bc',
          category: 'Methodologies',
          description: 'Behaviour Driven Development',
          moons: [
            { name: 'Cucumber', url: 'https://cucumber.io/' },
            { name: 'JBehave', url: 'https://jbehave.org/' },
            { name: 'SpecFlow', url: 'https://specflow.org/' },
            { name: 'Quantum', url: 'https://github.com/Perfecto-Quantum/Quantum' },
            { name: 'Serenity', url: 'https://serenity-bdd.github.io/' }
          ]
        },
        {
          id: 'test-management',
          name: 'Test Management',
          x: 25,
          y: 70,
          size: 60,
          color: '#3498db',
          category: 'Management',
          description: 'Organize test planning and execution',
          moons: [
            { name: 'TestRail', url: 'https://www.testrail.com/' },
            { name: 'XRay', url: 'https://www.getxray.app/' },
            { name: 'Zephyr Enterprise', url: 'https://smartbear.com/test-management/zephyr-enterprise/' },
            { name: 'Quality Center', url: 'https://www.microfocus.com/en-us/products/alm-quality-center/overview' },
            { name: 'testmo', url: 'https://www.testmo.com/' }
          ]
        },
        {
          id: 'bug-tracking',
          name: 'Bug Tracking',
          x: 45,
          y: 75,
          size: 58,
          color: '#e67e22',
          category: 'Management',
          description: 'Organize bug tracking in single platform',
          moons: [
            { name: 'JIRA', url: 'https://www.atlassian.com/software/jira' },
            { name: 'BugZilla', url: 'https://www.bugzilla.org/' },
            { name: 'Mantis', url: 'https://www.mantisbt.org/' },
            { name: 'Rollbar', url: 'https://rollbar.com/' },
            { name: 'Bugasura', url: 'https://bugasura.io/' }
          ]
        },
        {
          id: 'codeless',
          name: 'Codeless Tools',
          x: 8,
          y: 35,
          size: 58,
          color: '#f39c12',
          category: 'Automation',
          description: 'No-code automation solutions',
          moons: [
            { name: 'Cypress Studio', url: 'https://docs.cypress.io/guides/references/cypress-studio' },
            { name: 'TestSigma', url: 'https://testsigma.com/' },
            { name: 'TestRigor', url: 'https://testrigor.com/' },
            { name: 'Katalon Studio', url: 'https://katalon.com/' },
            { name: 'AccelQ', url: 'https://www.accelq.com/' },
            { name: 'Applitools', url: 'https://applitools.com/' },
            { name: 'Playwright Test Generator', url: 'https://playwright.dev/docs/codegen' },
            { name: 'TOSCA', url: 'https://www.tricentis.com/products/automate-continuous-testing-tosca' },
            { name: 'Provar', url: 'https://www.provartesting.com/' },
            { name: 'UIPath Test Suite', url: 'https://www.uipath.com/product/test-suite' },
            { name: 'TestIM', url: 'https://www.testim.io/' }
          ]
        },
        {
          id: 'ide',
          name: 'IDEs',
          x: 60,
          y: 35,
          size: 58,
          color: '#1abc9c',
          category: 'Development',
          description: 'Code editors and development environments',
          moons: [
            { name: 'IntelliJ', url: 'https://www.jetbrains.com/idea/' },
            { name: 'Eclipse', url: 'https://www.eclipse.org/' },
            { name: 'Visual Studio Code', url: 'https://code.visualstudio.com/' },
            { name: 'WebStorm', url: 'https://www.jetbrains.com/webstorm/' },
            { name: 'PyCharm', url: 'https://www.jetbrains.com/pycharm/' },
            { name: 'VIM', url: 'https://www.vim.org/' },
            { name: 'Notepad++', url: 'https://notepad-plus-plus.org/' },
            { name: 'JetBrains Aqua', url: 'https://www.jetbrains.com/aqua/' }
          ]
        },
        {
          id: 'reporting',
          name: 'Reporting',
          x: 72,
          y: 58,
          size: 52,
          color: '#16a085',
          category: 'Observability',
          description: 'Generate test execution reports',
          moons: [
            { name: 'Allure Report', url: 'https://allurereport.org/' },
            { name: 'Cucumber HTML', url: 'https://cucumber.io/docs/cucumber/reporting/' },
            { name: 'Mochawesome', url: 'https://github.com/adamgruber/mochawesome' },
            { name: 'Extent Reports', url: 'https://www.extentreports.com/' },
            { name: 'MasterThought', url: 'https://github.com/damianszczepanik/cucumber-reporting' }
          ]
        },
        {
          id: 'logging',
          name: 'Logging',
          x: 58,
          y: 68,
          size: 50,
          color: '#27ae60',
          category: 'Observability',
          description: 'Configure and view logs from different sources',
          moons: [
            { name: 'Datadog', url: 'https://www.datadoghq.com/' },
            { name: 'Splunk', url: 'https://www.splunk.com/' },
            { name: 'Mezmo', url: 'https://www.mezmo.com/' },
            { name: 'Graylog', url: 'https://graylog.org/' },
            { name: 'Kibana', url: 'https://www.elastic.co/kibana' }
          ]
        },
        {
          id: 'containerization',
          name: 'Containers',
          x: 35,
          y: 60,
          size: 55,
          color: '#2980b9',
          category: 'DevOps',
          description: 'Container orchestration platforms',
          moons: [
            { name: 'Docker', url: 'https://www.docker.com/' },
            { name: 'Kubernetes', url: 'https://kubernetes.io/' },
            { name: 'OpenShift Container Platform', url: 'https://www.redhat.com/en/technologies/cloud-computing/openshift' }
          ]
        },
        {
          id: 'cloud',
          name: 'Cloud',
          x: 78,
          y: 78,
          size: 58,
          color: '#3498db',
          category: 'Infrastructure',
          description: 'Cloud service providers',
          moons: [
            { name: 'AWS', url: 'https://aws.amazon.com/' },
            { name: 'Google Cloud Platform', url: 'https://cloud.google.com/' },
            { name: 'IBM Cloud', url: 'https://www.ibm.com/cloud' },
            { name: 'Microsoft Azure', url: 'https://azure.microsoft.com/' }
          ]
        },
        {
          id: 'cross-browser',
          name: 'Cross-Browser',
          x: 12,
          y: 15,
          size: 54,
          color: '#9b59b6',
          category: 'Platforms',
          description: 'Cloud-based testing platforms',
          moons: [
            { name: 'LambdaTest', url: 'https://www.lambdatest.com/' },
            { name: 'BrowserStack', url: 'https://www.browserstack.com/' },
            { name: 'SauceLabs', url: 'https://saucelabs.com/' },
            { name: 'TestSigma', url: 'https://testsigma.com/' },
            { name: 'Perfecto', url: 'https://www.perfecto.io/' }
          ]
        },
        {
          id: 'database',
          name: 'Database',
          x: 65,
          y: 85,
          size: 56,
          color: '#34495e',
          category: 'Infrastructure',
          description: 'Database systems for testing',
          moons: [
            { name: 'MongoDB', url: 'https://www.mongodb.com/' },
            { name: 'Apache Cassandra', url: 'https://cassandra.apache.org/' },
            { name: 'MySQL', url: 'https://www.mysql.com/' },
            { name: 'Apache CouchDB', url: 'https://couchdb.apache.org/' },
            { name: 'Neo4j', url: 'https://neo4j.com/' },
            { name: 'Redis', url: 'https://redis.io/' },
            { name: 'Oracle Database', url: 'https://www.oracle.com/database/' },
            { name: 'PostgreSQL', url: 'https://www.postgresql.org/' },
            { name: 'Microsoft SQL Server', url: 'https://www.microsoft.com/en-us/sql-server' }
          ]
        },
        {
          id: 'debugging',
          name: 'HTTP Debug',
          x: 18,
          y: 82,
          size: 48,
          color: '#c0392b',
          category: 'Tools',
          description: 'HTTP traffic debugging tools',
          moons: [
            { name: 'Charles Proxy', url: 'https://www.charlesproxy.com/' },
            { name: 'Fiddler', url: 'https://www.telerik.com/fiddler' },
            { name: 'Proxyman', url: 'https://proxyman.io/' },
            { name: 'Http ToolKit', url: 'https://httptoolkit.com/' }
          ]
        },
        {
          id: 'code-quality',
          name: 'Code Quality',
          x: 50,
          y: 88,
          size: 50,
          color: '#8e44ad',
          category: 'Development',
          description: 'Code inspection and quality tools',
          moons: [
            { name: 'SonarQube', url: 'https://www.sonarsource.com/products/sonarqube/' },
            { name: 'PMD', url: 'https://pmd.github.io/' },
            { name: 'VeraCode SAST', url: 'https://www.veracode.com/products/binary-static-analysis-sast' }
          ]
        },
        {
          id: 'etl',
          name: 'ETL Testing',
          x: 82,
          y: 82,
          size: 52,
          color: '#16a085',
          category: 'Testing Types',
          description: 'Data pipeline testing',
          moons: [
            { name: 'Informatica Power Center', url: 'https://www.informatica.com/products/data-integration/powercenter.html' },
            { name: 'QuerySurge', url: 'https://www.querysurge.com/' },
            { name: 'Right Data', url: 'https://www.infogix.com/' },
            { name: 'Integrate.io', url: 'https://www.integrate.io/' }
          ]
        },
        {
          id: 'ai-testing',
          name: 'AI Testing',
          x: 30,
          y: 88,
          size: 52,
          color: '#e056fd',
          category: 'Emerging',
          description: 'AI-powered testing tools',
          moons: [
            { name: 'Postman Postbot', url: 'https://www.postman.com/product/postbot/' },
            { name: 'KushoAI', url: 'https://kusho.ai/' },
            { name: 'TestCraft', url: 'https://www.testcraft.io/' },
            { name: 'testRigor', url: 'https://testrigor.com/' },
            { name: 'CodeRabbit', url: 'https://coderabbit.ai/' }
          ]
        }
      ];

      const connections = [
        { from: 'browser-testing', to: 'api-testing' },
        { from: 'api-testing', to: 'mobile-testing' },
        { from: 'browser-testing', to: 'cicd' },
        { from: 'api-testing', to: 'cicd' },
        { from: 'mobile-testing', to: 'cicd' },
        { from: 'cicd', to: 'version-control' },
        { from: 'performance', to: 'cicd' },
        { from: 'security', to: 'cicd' },
        { from: 'bdd', to: 'browser-testing' },
        { from: 'test-management', to: 'bug-tracking' },
        { from: 'reporting', to: 'logging' },
        { from: 'cicd', to: 'containerization' },
        { from: 'containerization', to: 'cloud' },
        { from: 'ide', to: 'version-control' },
        { from: 'ide', to: 'code-quality' },
        { from: 'cross-browser', to: 'browser-testing' },
        { from: 'database', to: 'api-testing' },
        { from: 'debugging', to: 'api-testing' },
        { from: 'codeless', to: 'browser-testing' },
        { from: 'ai-testing', to: 'api-testing' },
        { from: 'etl', to: 'database' }
      ];

      const filteredNodes = searchTerm 
        ? nodes.filter(node => 
            node.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
            node.moons.some(moon => moon.name.toLowerCase().includes(searchTerm.toLowerCase()))
          )
        : nodes;

      const handleToolClick = (url) => {
        window.open(url, '_blank', 'noopener,noreferrer');
      };

      useEffect(() => {
        const handleEsc = (e) => {
          if (e.key === 'Escape') setSelectedNode(null);
        };
        window.addEventListener('keydown', handleEsc);
        return () => window.removeEventListener('keydown', handleEsc);
      }, []);

      return (
        <div className="min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 text-white overflow-hidden">
          {/* Header */}
          <div className="absolute top-0 left-0 right-0 z-30 bg-black/40 backdrop-blur-xl border-b border-white/10">
            <div className="max-w-7xl mx-auto px-6 py-5">
              <div className="flex items-center justify-between">
                <div className="flex-1">
                  <div className="flex items-center gap-3 mb-2">
                    <Sparkles className="w-6 h-6 text-cyan-400" />
                    <h1 className="text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent">
                      TestVerse
                    </h1>
                  </div>
                  <p className="text-sm text-gray-300">
                    Explore the Testing Universe — See how everything connects in the world of software testing
                  </p>
                  <p className="text-xs text-gray-500 mt-1">
                    Based on Software Testing Ecosystem by Anshita Bhasin
                  </p>
                </div>
                
                <div className="flex items-center gap-4">
                  <div className="relative">
                    <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" />
                    <input
                      type="text"
                      placeholder="Search tools, frameworks..."
                      value={searchTerm}
                      onChange={(e) => setSearchTerm(e.target.value)}
                      className="pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-sm focus:outline-none focus:border-cyan-400/50 w-72"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Galaxy Canvas */}
          <div className="relative w-full h-screen pt-32">
            <svg className="absolute inset-0 w-full h-full">
              <defs>
                <filter id="glow">
                  <feGaussianBlur stdDeviation="3.5" result="coloredBlur"/>
                  <feMerge>
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
              </defs>

              {/* Connections */}
              {connections.map((conn, i) => {
                const fromNode = nodes.find(n => n.id === conn.from);
                const toNode = nodes.find(n => n.id === conn.to);
                if (!fromNode || !toNode) return null;
                
                const show = !searchTerm || (filteredNodes.includes(fromNode) && filteredNodes.includes(toNode));
                
                return (
                  <line
                    key={i}
                    x1={`${fromNode.x}%`}
                    y1={`${fromNode.y}%`}
                    x2={`${toNode.x}%`}
                    y2={`${toNode.y}%`}
                    stroke="rgba(100, 255, 255, 0.12)"
                    strokeWidth="1"
                    strokeDasharray="3,3"
                    className={`transition-opacity duration-300 ${show ? 'opacity-100' : 'opacity-0'}`}
                  />
                );
              })}

              {/* Nodes */}
              {nodes.map((node) => {
                const isVisible = !searchTerm || filteredNodes.includes(node);
                const isSelected = selectedNode?.id === node.id;
                const isHovered = hoveredNode === node.id;
                
                return (
                  <g key={node.id} className={`transition-opacity duration-300 ${isVisible ? 'opacity-100' : 'opacity-20'}`}>
                    <circle
                      cx={`${node.x}%`}
                      cy={`${node.y}%`}
                      r={isSelected ? node.size * 0.75 : node.size * 0.65}
                      fill="none"
                      stroke={node.color}
                      strokeWidth="1"
                      opacity="0.25"
                      filter="url(#glow)"
                      className="transition-all duration-300"
                    />
                    
                    <circle
                      cx={`${node.x}%`}
                      cy={`${node.y}%`}
                      r={isSelected ? node.size * 0.55 : isHovered ? node.size * 0.5 : node.size * 0.45}
                      fill={node.color}
                      opacity="0.2"
                      className="cursor-pointer transition-all duration-300"
                      onClick={() => setSelectedNode(node)}
                      onMouseEnter={() => setHoveredNode(node.id)}
                      onMouseLeave={() => setHoveredNode(null)}
                    />
                    
                    <circle
                      cx={`${node.x}%`}
                      cy={`${node.y}%`}
                      r={isSelected ? node.size * 0.35 : isHovered ? node.size * 0.3 : node.size * 0.25}
                      fill={node.color}
                      opacity="0.6"
                      filter="url(#glow)"
                      className="cursor-pointer transition-all duration-300 pointer-events-none"
                    />
                    
                    <text
                      x={`${node.x}%`}
                      y={`${node.y + 6}%`}
                      textAnchor="middle"
                      className="text-[10px] font-semibold pointer-events-none select-none"
                      fill="white"
                      opacity={isHovered || isSelected ? "1" : "0.85"}
                    >
                      {node.name}
                    </text>
                  </g>
                );
              })}
            </svg>

            {/* Modal */}
            {selectedNode && (
              <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex items-center justify-center p-4">
                <div className="bg-gradient-to-br from-slate-900/95 to-purple-900/95 backdrop-blur-xl border-2 border-white/20 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden animate-in">
                  <div className="bg-black/30 border-b border-white/10 p-6">
                    <div className="flex items-start justify-between">
                      <div className="flex-1">
                        <div className="flex items-center gap-3 mb-2">
                          <div 
                            className="w-4 h-4 rounded-full shadow-lg"
                            style={{ backgroundColor: selectedNode.color, boxShadow: `0 0 15px ${selectedNode.color}` }}
                          />
                          <h3 className="text-3xl font-bold">{selectedNode.name}</h3>
                        </div>
                        <span className="text-xs text-cyan-400 uppercase tracking-wider font-semibold">{selectedNode.category}</span>
                        <p className="text-sm text-gray-300 mt-3 leading-relaxed">{selectedNode.description}</p>
                      </div>
                      <button
                        onClick={() => setSelectedNode(null)}
                        className="text-gray-400 hover:text-white hover:bg-white/10 transition-all p-2 rounded-lg ml-4"
                      >
                        <X className="w-6 h-6" />
                      </button>
                    </div>
                  </div>

                  <div className="p-6 overflow-y-auto max-h-[calc(80vh-200px)]">
                    <div className="flex items-center gap-2 text-sm text-gray-300 mb-4">
                      <Info className="w-4 h-4 text-cyan-400" />
                      <span className="font-semibold">{selectedNode.moons.length} Tools & Frameworks</span>
                      <span className="text-gray-500">— Click to visit official page</span>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {selectedNode.moons.map((moon, i) => (
                        <button
                          key={i}
                          onClick={() => handleToolClick(moon.url)}
                          className="bg-white/5 hover:bg-white/10 rounded-xl px-4 py-3 border border-white/10 hover:border-cyan-400/50 transition-all cursor-pointer group text-left w-full"
                        >
                          <div className="flex items-center justify-between">
                            <span className="text-sm font-medium group-hover:text-cyan-400 transition-colors">
                              {moon.name}
                            </span>
                            <ExternalLink className="w-4 h-4 text-gray-500 group-hover:text-cyan-400 transition-colors flex-shrink-0" />
                          </div>
                        </button>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            )}
          </div>

          {/* Collapsible Legend */}
          <div className="absolute bottom-4 left-4 z-20">
            <button 
              onClick={() => setShowLegend(!showLegend)}
              className="bg-black/40 backdrop-blur-xl border border-white/20 rounded-xl px-4 py-2 flex items-center gap-2 hover:bg-black/50 transition-all"
            >
              <span className="text-xs font-semibold uppercase tracking-wider text-gray-300">
                {nodes.length} Categories • {nodes.reduce((acc, n) => acc + n.moons.length, 0)} Tools
              </span>
              {showLegend ? <ChevronDown /> : <ChevronUp />}
            </button>
            
            {showLegend && (
              <div className="mt-2 bg-black/40 backdrop-blur-xl border border-white/20 rounded-xl p-4 max-w-md" style={{ animation: 'fade-in 0.2s, slide-in-from-bottom-2 0.2s' }}>
                <div className="text-xs text-gray-400 mb-3 font-semibold uppercase tracking-wider">Categories</div>
                <div className="grid grid-cols-2 gap-x-4 gap-y-2">
                  {['Testing Types', 'DevOps', 'Methodologies', 'Management', 'Automation', 'Development', 'Observability', 'Infrastructure', 'Platforms', 'Tools', 'Emerging'].map((cat) => {
                    const node = nodes.find(n => n.category === cat);
                    if (!node) return null;
                    return (
                      <div key={cat} className="flex items-center gap-2">
                        <div 
                          className="w-2 h-2 rounded-full flex-shrink-0"
                          style={{ backgroundColor: node.color }}
                        />
                        <span className="text-xs text-gray-300 truncate">{cat}</span>
                      </div>
                    );
                  })}
                </div>
              </div>
            )}
          </div>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<TestVerse />);
  </script>
</body>
</html>